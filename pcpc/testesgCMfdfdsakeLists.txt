cmake_minimum_required(VERSION 2.8.3)
project(pcpc)

find_package(catkin REQUIRED COMPONENTS 
   roscpp
   std_msgs
)

#set(CMAKE_BUILD_TYPE Debug)
#set(CMAKE_C_FLAGS_DEBUG "-g -Wall -fprofile-arcs -ftest-coverage -O0")

set(EIGEN3_INCLUDE_DIR $ENV{EIGEN3_INCLUDE_DIR} CACHE PATH "Eigen installation dir(Default: $EIGEN_HOME)")
find_package(Boost COMPONENTS system filesystem iostreams)
find_package(Boost COMPONENTS system thread filesystem timer)

add_definitions(-lstdc++ -std=c++11)
add_definitions(-DEIGEN_DONT_ALIGN)

set(USE_GANKENKUN CACHE BOOL FORCE)
IF(USE_GANKENKUN)
	add_definitions(-DGANKENKUN)
ENDIF(USE_GANKENKUN)

catkin_package()
include_directories(
	${Boost_INCLUDE_DIR}
	${BOOST_INCLUDE_DIRS}
	${EIGEN3_INCLUDE_DIR}
	${catkin_INCLUDE_DIRS}
)

set(GGP_SRCS
	src/main.cpp src/MainControl.cpp src/PreviewControl.cpp src/FootStepPlanner.cpp src/GaitPatternGenerator.cpp src/cmd.cpp src/PreCalculatedPreviewControl.cpp
	src/MainControl.h src/Jacobian.cpp src/Link.cpp src/Jacobian.h src/Kinematics.h src/Link.h src/cmd.h src/PreCalculatedPreviewControl.h
)

IF(USE_GANKENKUN)
	set(GGP_SRCS ${GGP_SRCS} src/Kinematics_GankenKun.cpp src/LinkParameter_GankenKun.h)
ELSE(USE_GANKENKUN)
	set(GGP_SRCS ${GGP_SRCS} src/Kinematics.cpp src/LinkParameter.h)
ENDIF(USE_GANKENKUN)


add_executable(ggp_test
	${GGP_SRCS}
)

target_link_libraries(ggp_test ${Boost_LIBRARIES} ${catkin_LIBRARIES})
